<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Hyperlink?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.PasswordField?>
<?import javafx.scene.control.RadioButton?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.Spinner?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.ToggleGroup?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<BorderPane xmlns="http://javafx.com/javafx/17.0.12" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.nepaltourismmanagementapp.controller.RegisterController">
   <center>
      <StackPane>
         <ImageView fitHeight="800" fitWidth="1200" preserveRatio="false">
            <image>
               <Image url="@../images/mountain_background.jpg" />
            </image>
         </ImageView>
         <HBox alignment="CENTER" spacing="50">
            <VBox alignment="CENTER_LEFT" maxWidth="500" spacing="20">
               <ImageView fitWidth="300" preserveRatio="true">
                  <image>
                     <Image url="@../images/nep-logo.png" />
                  </image>
               </ImageView>
               <Label text="Welcome To" styleClass="welcome-text,welcome-title" />
               <Label text="NEPXPLORE" styleClass="welcome-text,brand-title" />
            </VBox>
            <VBox fx:id="registerContainer" alignment="CENTER" maxWidth="450" styleClass="register-form-container">
               <padding>
                  <Insets bottom="25.0" left="35.0" right="35.0" top="25.0" />
               </padding>
               <Label alignment="CENTER" text="Create new Account" styleClass="register-title">
                  <VBox.margin>
                     <Insets bottom="25.0" />
                  </VBox.margin>
               </Label>
               <ScrollPane fitToWidth="true" hbarPolicy="NEVER" style="-fx-background-color: transparent;" prefHeight="400">
                  <content>
                     <VBox spacing="20">
                        <!-- Basic Information Section -->
                        <VBox spacing="15" styleClass="form-section">
                           <Label text="ðŸ“‹ Basic Information" styleClass="form-section-title" />
                           <TextField fx:id="fullNameField" promptText="Full Name" styleClass="register-field" />
                           <TextField fx:id="usernameField" promptText="Username" styleClass="register-field" />
                           <TextField fx:id="emailField" promptText="Email" styleClass="register-field" />
                           <TextField fx:id="phoneField" promptText="Phone Number" styleClass="register-field" />
                        </VBox>
                        
                        <!-- Security Section -->
                        <VBox spacing="15" styleClass="form-section">
                           <Label text="ðŸ”’ Security" styleClass="form-section-title" />
                           <PasswordField fx:id="passwordField" promptText="Password" styleClass="register-field" />
                           <PasswordField fx:id="confirmPasswordField" promptText="Confirm Password" styleClass="register-field" />
                        </VBox>
                        
                        <!-- User Type Selection -->
                        <VBox spacing="15" styleClass="form-section">
                           <Label text="ðŸ‘¤ Account Type" styleClass="form-section-title" />
                           <HBox alignment="CENTER" spacing="30">
                              <RadioButton fx:id="touristRadio" selected="true" text="ðŸ§³ Tourist" styleClass="radio-button">
                                 <toggleGroup>
                                    <ToggleGroup fx:id="userTypeGroup" />
                                 </toggleGroup>
                              </RadioButton>
                              <RadioButton fx:id="guideRadio" text="ðŸ—ºï¸ Guide" toggleGroup="$userTypeGroup" styleClass="radio-button" />
                              <RadioButton fx:id="adminRadio" text="ðŸ‘¨â€ðŸ’¼ Admin" toggleGroup="$userTypeGroup" styleClass="radio-button" />
                           </HBox>
                        </VBox>
                        
                        <!-- Tourist Specific Fields -->
                        <VBox fx:id="touristFields" spacing="15" styleClass="form-section">
                           <Label text="ðŸŒ Tourist Information" styleClass="form-section-title" />
                           <TextField fx:id="nationalityField" promptText="Nationality" styleClass="register-field" />
                           <HBox alignment="CENTER_LEFT" spacing="10">
                              <Label text="Age:" styleClass="label" />
                              <Spinner fx:id="ageSpinner" prefWidth="100" styleClass="spinner" />
                           </HBox>
                        </VBox>
                        
                        <!-- Guide Specific Fields -->
                        <VBox fx:id="guideFields" spacing="15" styleClass="form-section" visible="false">
                           <Label text="ðŸ—ºï¸ Guide Information" styleClass="form-section-title" />
                           <TextField fx:id="licenseField" promptText="License Number" styleClass="register-field" />
                           <TextField fx:id="languagesField" promptText="Languages (comma separated)" styleClass="register-field" />
                           <TextField fx:id="specializationsField" promptText="Specializations (comma separated)" styleClass="register-field" />
                           <HBox alignment="CENTER_LEFT" spacing="10">
                              <Label text="Experience (Years):" styleClass="label" />
                              <Spinner fx:id="experienceSpinner" prefWidth="100" styleClass="spinner" />
                           </HBox>
                        </VBox>
                        
                        <!-- Language Preference -->
                        <VBox spacing="10" styleClass="form-section">
                           <Label text="ðŸŒ Language Preference" styleClass="form-section-title" />
                           <HBox alignment="CENTER_LEFT" spacing="10">
                              <Label text="Interface Language:" styleClass="label" />
                              <ComboBox fx:id="languageCombo" prefWidth="150" promptText="English" styleClass="combo-box" />
                           </HBox>
                        </VBox>
                     </VBox>
                  </content>
               </ScrollPane>
               <Button fx:id="registerButton" onAction="#handleRegister" prefHeight="50" prefWidth="320" styleClass="register-button" text="Sign Up">
                  <VBox.margin>
                     <Insets bottom="15.0" top="25.0" />
                  </VBox.margin>
               </Button>
               <HBox alignment="CENTER">
                  <Label text="Already have an account? " styleClass="label" />
                  <Hyperlink fx:id="loginLink" onAction="#handleBack" styleClass="hyperlink" text="Login" />
               </HBox>
            </VBox>
         </HBox>
      </StackPane>
   </center>
</BorderPane>